# Vehicle Interface

![Node diagram](images/Vehicle-Interface-Bus-ODD-Architecture.drawio.svg)

The `Vehicle Interface` receives the `Vehicle Signal Commands` and `Vehicle Control Commands` and publishes the vehicle status. It also communicates with vehicle by the vehicle-specific protocol.

The `Gate` switches multiple `Vehicle Control Commands`. These signals include autonomous diving command, joystick, remote control, and emergency operation, etc.
The `Adapter` converts generalized control command (target steering, steering rate, velocity, acceleration, jerk) into vehicle-specific control values (steering-torque, wheel-torque, voltage, pressure, accel pedal position, etc).

## Inputs

### Error status

(See Inputs of Planning.)

### Vehicle Control Command

(See Output of Control.)

### Vehicle Signals Commands

Commands for various elements of the vehicle unrelated to motion. Published by the Planning module.

## Outputs

### Vehicle Signal Reports

Reports for various elements of the vehicle unrelated to motion. Published by the Vehicle Interface.

### Vehicle Odometry

Odometry of the vehicle. Used by the Localization module to update the pose of the vehicle in the map.

- [geometry_msgs/TwistWithCovarianceStamped](https://docs.ros.org/en/melodic/api/geometry_msgs/html/msg/TwistWithCovarianceStamped.html) odometry

### Steering Status

Steering of the ego vehicle. Published by the Vehicle Interface.

- Steering message ([github discussion](https://github.com/autowarefoundation/autoware/discussions/36)).
  - builtin_interfaces::msg::Time stamp
  - float32 steering_angle

### Actuation Status

Actuation status of the ego vehicle for acceleration, steering, and brake. This represents the reported physical efforts exerted by the vehicle actuators. Published by the Vehicle Interface.

- ActuationStatus ([github discussion](https://github.com/autowarefoundation/autoware/discussions/36)).
  - builtin_interfaces::msg::Time stamp
  - float32 acceleration
  - float32 steering
  - float32 brake

**The message definition is under discussion.**

### Actuation Command

Actuation command sent to the ego vehicle. This represents the requested physical efforts to be exerted by the vehicle actuators. Published by the Vehicle Interface as generated by the adapter.

- ActuationCommand ([github discussion](https://github.com/autowarefoundation/autoware/discussions/36).)
  - builtin_interfaces::msg::Time stamp
  - float32 acceleration
  - float32 steering
  - float32 brake

**The message definition is under discussion.**

### Vehicle Communication

Vehicle specific messages protocol like CAN (Controller Area Network).
