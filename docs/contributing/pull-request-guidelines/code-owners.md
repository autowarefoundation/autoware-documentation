# Code owners

Autoware project uses multiple `CODEOWNERS` files to define the code owners throughout the repository.

Please go through the [GitHub documentation on code owners](https://docs.github.com/en/repositories/managing-your-repositorys-settings-and-features/customizing-your-repository/about-code-owners) to understand how the code owners are defined and how they are used in the repository.

## Purpose and function of the `CODEOWNERS` file

They are used to automatically request reviews from the code owners when a pull request is created.

Without an approval without either a code owner or a maintainer, the pull request cannot be merged.

Aim is to ensure that the code is reviewed by the appropriate people before it is merged.

## Where to find the `CODEOWNERS` files

Autoware project is composed of multiple repositories.
You can refer to [`autoware.repos` file](https://github.com/autowarefoundation/autoware/blob/main/autoware.repos) for the list of repositories and their directories.

Each repository can have its own `CODEOWNERS` file.
The `CODEOWNERS` file is located in the `.github` directory of the repository.

## How is the `CODEOWNERS` file maintained?

In most cases, the `CODEOWNERS` file is maintained by the repository maintainers.

A PR can be made to the `CODEOWNERS` file to add or remove code owners.

### Autoware Universe repository

In the [autoware.universe](https://github.com/autowarefoundation/autoware.universe) repository, maintenance of the `CODEOWNERS` file is automated by the CI.

[This workflow](https://github.com/autowarefoundation/autoware.universe/actions/workflows/update-codeowners-from-packages.yaml) updates the `CODEOWNERS` file based on the `maintainer` information in the `package.xml` files of the packages in the repository.

So, in order to change the code owners in the `autoware.universe` repository:
1. Open up a PR to modify the `maintainer` information in the `package.xml` file of the package.
1. Have the PR merged by existing maintainers.
1. Wait for the CI workflow to run and update the `CODEOWNERS` file and automatically generate a PR. (Currently it runs every midnight UTC)
    - If it is urgent, a maintainer can run the workflow manually.
1. Ask for a maintainer to merge the PR generated by the CI.
    - **Example Automated PR:** [chore: update CODEOWNERS #6866](https://github.com/autowarefoundation/autoware.universe/pull/6866)
1. Once the PR is merged, the code owners will be updated.

## Code Owner responsibilities

Code owners are responsible for reviewing the pull requests that are assigned to them.

They are expected to review the pull requests within a reasonable time frame.

For pull requests that hasn't received any review <u>**within a week**</u>, the maintainers hold the right to review and merge the pull request.

## FAQ

### My pull request is not getting reviewed by the code owners

If your pull request has not been reviewed by the code owners, you can take the following steps:
- üèπ **Directly Address the Code Owners:** Mention them in a comment on the pull request üì´ to bring it to their attention.
- ‚è≥ **Follow Up After a Week:** If there's no response within a week, reach out to the project maintainers *(`@autoware-maintainers` GitHub handle)* asking for a review üìù.
- üì¢ **Escalate if Necessary:** If your requests continue to go unanswered, you may escalate the issue by posting a message in the [Autoware Discord channel](../../support/support-guidelines.md#discord) üö®. Remember, maintainers often juggle numerous responsibilities, so patience is appreciatedüôá.

### I am the only code owner, and I've made a pull request

- Ask the `@autoware-maintainers` for review by mentioning them in a comment on the pull request.
- Maintainers will look for additional maintainers to prevent this situation in the future.
- They also have the right to review and merge the pull request.

### I am not a code owner, but I want to review a pull request

- You can review any pull request and provide your feedback.
- Your review might not be enough to merge the pull request, but it will help the code owners and maintainers to make a decision.
- If you think the pull request is ready to merge, you can mention the code owners and maintainers in a comment on the pull request.
